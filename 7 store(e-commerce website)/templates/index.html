{% extends "base.html" %}
{% block title %}Home{% endblock %}
{% block content %}

<section class="hero-box mb-4">
  <div class="row align-items-center">
    <div class="col-lg-7">
      <h1 class="display-5 fw-bold">Discover things you’ll love</h1>
      <p class="lead text-muted">Handpicked products from trusted sellers — simple, clean and made to last.</p>
      <a href="#products" class="btn btn-primary btn-lg">Start Shopping</a>
    </div>
    <div class="col-lg-5 d-none d-lg-block text-end">
      <img src="{{ url_for('static', filename='images/promo-placeholder.png') }}" alt="promo" class="img-fluid hero-image">
    </div>
  </div>
</section>

<h4 id="products" class="mb-3">Featured</h4>
<div class="row g-3">
  {% for p in products %}
  <div class="col-6 col-md-4 col-lg-3">
    <div class="product-card h-100 shadow-sm">
      <div class="product-media">
        {% if p.image_filename %}
        <img src="{{ url_for('uploaded_file', filename=p.image_filename) }}" alt="{{ p.name }}">
        {% else %}
        <img src="{{ url_for('static', filename='images/product-placeholder.png') }}" alt="{{ p.name }}">
        {% endif %}
      </div>
      <div class="p-3 d-flex flex-column">
        <div class="d-flex justify-content-between align-items-start mb-2">
          <h6 class="product-title mb-0">{{ p.name }}</h6>
          <span class="product-price text-primary">{{ p.price|inr }}</span>
        </div>
        <p class="text-muted small text-truncate mb-3">{{ p.description or '' }}</p>
        <div class="mt-auto d-flex justify-content-between align-items-center">
          <a href="{{ url_for('shop.product_detail', slug=p.slug) }}" class="btn btn-outline-primary btn-sm">View</a>
          <form method="post" action="{{ url_for('shop.add_to_cart', product_id=p.id) }}" class="d-inline">
            <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
            <input type="hidden" name="qty" value="1">
            <button class="btn btn-primary btn-sm">Add</button>
          </form>
        </div>
      </div>
    </div>
  </div>
  {% endfor %}
</div>

{% endblock %}
